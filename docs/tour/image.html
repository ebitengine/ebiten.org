<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    
    <meta name="description" content="Ebiten is an open source game library for the Go programming language. Ebiten&#39;s simple API allows you to quickly and easily develop 2D games that can be deployed across multiple platforms.">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#db5620">
    <meta property="og:title" content="Render an image - Ebiten">
    <meta property="og:site_name" content="Ebiten - A dead simple 2D game library for Go">
    <meta property="og:image" content="https://ebiten.org/images/share.png">
    <meta property="og:description" content="Ebiten is an open source game library for the Go programming language. Ebiten&#39;s simple API allows you to quickly and easily develop 2D games that can be deployed across multiple platforms.">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@hajimehoshi">
    <meta name="twitter:title" content="Render an image - Ebiten">
    <meta name="twitter:description" content="Ebiten is an open source game library for the Go programming language. Ebiten&#39;s simple API allows you to quickly and easily develop 2D games that can be deployed across multiple platforms.">
    <meta name="twitter:image" content="https://ebiten.org/images/share.png">
    <title>Render an image - Ebiten</title>
    <link rel="canonical" href="https://ebiten.org/tour/image.html">
    <link rel="stylesheet" type="text/css" href="/styles/style.css">
    <link rel="icon" href="/images/favicon.png" type="image/png">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
    <script src="/scripts/script.js" defer></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-83252440-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-83252440-1');
    </script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
  </head>
  <body>
    <input type="checkbox" id="sidemenu"><label for="sidemenu" class="sidemenubutton"></label><label for="sidemenu" class="sidemenucover"></label>
    <nav>
      <h1><a href="/">Ebiten</a></h1>
      <ul id="language">
      </ul>
      <ul>
        <li lang="en"><a href="/">Home</a></li>
        <li lang="ja"><a href="/">ホーム</a></li>
        <li lang="en"><a href="https://github.com/hajimehoshi/ebiten">Source code</a></li>
        <li lang="ja"><a href="https://github.com/hajimehoshi/ebiten">ソースコード</a></li>
        <li lang="en"><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2">API reference</a></li>
        <li lang="ja"><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2">API リファレンス</a></li>
        <li lang="en"><a href="/tour/">Tour (WIP)</a></li>
        <li lang="ja"><a href="/tour/">ツアー (未完成)</a></li>
        <li lang="en"><a href="/documents/">Documents</a></li>
        <li lang="ja"><a href="/documents/">ドキュメント</a></li>
        <li lang="en"><a href="/examples/">Examples</a></li>
        <li lang="ja"><a href="/examples/">サンプル</a></li>
        <li lang="en"><a href="/blog/">Blog</a></li>
        <li lang="ja"><a href="/blog/">ブログ</a></li>
      </ul>
      <h2 lang="en">Tour</h2>
<h2 lang="ja">ツアー</h2>
<h3 lang="en">Getting Started</h3>
<h3 lang="ja">はじめる</h3>
<ul>
  <li><a href="./hello_world.html">Hello, World!</a></li>
</ul>
<h3 lang="en">Graphics</h3>
<h3 lang="ja">グラフィック</h3>
<ul>
  <li><a href="./fill.html">Fill</a></li>
  <li><a href="./image.html">Render an Image</a></li>
  <li><a href="./geom.html">Geometry Matrix</a></li>
  <li><a href="#">Filter (TBD)</a></li>
  <li><a href="#">Offscreen (TBD)</a></li>
  <li><a href="#">Color Matrix (TBD)</a></li>
  <li><a href="#">Tiling (TBD)</a></li>
</ul>
<h3 lang="en">Input</h3>
<h3 lang="ja">入力</h3>
<ul>
  <li><a href="#">Keyboard (TBD)</a></li>
  <li><a href="#">Mouse (TBD)</a></li>
  <li><a href="#">Gamepad (TBD)</a></li>
</ul>

    </nav>
    <main>
      <article>
        <h1>Render an image</h1>
<h2>Code</h2>
<pre data-codesrc="/go/renderimage/main.go"></pre>
<div class="grid-container">
  <div class="grid-item-2">
    <p>To execute this program, you need the image file <code>gopher.png</code> at the same directory:</p>
  </div>
  <div class="grid-item-2">
    <p class="img"><img src="/go/renderimage/gopher.png" width="240" height="240" alt="Gopher"></p>
  </div>
</div>
<div class="grid-container">
  <div class="grid-item-2">
    <p>The result will be like this:</p>
  </div>
  <div class="grid-item-2">
    <p class="img screenshot"><img src="/images/go/renderimage.png" width="320" height="240" alt="Screenshot"></p>
  </div>
</div>
<h2>How the code works</h2>
<div class="grid-container">
  <div class="grid-item-2">
    <pre data-codesrc="/go/renderimage/main.go" data-codelinerange="3-9"></pre>
  </div>
  <div class="grid-item-2">
    <p>Imports necessary packages. The sentence <code>_ "image/png"</code> means to register PNG decoder used when an image is decoded. See <a href="https://golang.org/pkg/image/#pkg-overview">the standard <code>image</code> package explanation</a> for the detail.</p>
  </div>
  <div class="grid-item-2">
    <pre data-codesrc="/go/renderimage/main.go" data-codelinerange="11-19"></pre>
  </div>
  <div class="grid-item-2">
    <p>Loads an image and creates an Ebiten image. <a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2/ebitenutil#NewImageFromFile"><code>ebitenutil.NewImageFromFile</code></a> is a utility function to create an Ebiten image object from an image file. As this seeks the specified file on the local file system, the image file must be at the specified place, or this function returns an error. As the given path is a relative path, the working directory, i.e. the place where the program is executed matters.</p>
    <p><code>NewImageFromFile</code> calls <a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#NewImageFromImage"><code>ebiten.NewImageFromImage</code></a> internally, which creates an Ebiten image from an <a href="https://golang.org/pkg/image/#Image"><code>image.Image</code></a>, and actually this is the only way to create an Ebiten image from an <code>image.Image</code>. On the other hand, there are various ways to get an <code>image.Image</code> object.</p>
    <ul>
      <li><a href="https://golang.org/pkg/os/#Open"><code>os.Open</code></a>: This is the most fundamental way to get a data for an image, but is not portable since this works only on desktops. To make matters worse, the working directory affects the result.</li>
      <li><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2/ebitenutil#OpenFile"><code>ebitenutil.OpenFile</code></a>: This is a little better than <code>os.Open</code>. This works even on browsers, but does not work on mobiles. <code>ebitenutil.NewImageFromFile</code> is the shortcut to call this <code>OpenFile</code> and <code>NewImageFromImage</code> internally.</li>
      <li><a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2/ebitenutil#NewImageFromURL"><code>ebitenutil.NewImageFromURL</code></a>: This obtains an image from a specified URL. This is portable and working directory doesn't affect the result, but requires networking.</li>
      <li>Embedding an image file into a Go file: The most portable way is to embed the image in Go file. If you are using Go 1.16 or newer, you can use <a href="https://golang.org/pkg/embed/"><code>go:embed</code></a> to embed a file into a Go program. Otherwiser, you can some tools e.g. <a href="https://github.com/rakyll/statik">statik</a> or <a href="https://github.com/hajimehoshi/file2byteslice">file2byteslice</a>. This works everywhere and is deterministic.</li>
    </ul>
    <p>As an image can be reused unless disposing, the image is created once in init function.</p>
  </div>
  <div class="grid-item-2">
    <pre data-codesrc="/go/renderimage/main.go" data-codelinerange="28"></pre>
  </div>
  <div class="grid-item-2">
    <p>Draws an image on an image by <a href="https://pkg.go.dev/github.com/hajimehoshi/ebiten/v2#Image.DrawImage"><code>(*Image).DrawImage</code></a>. This function draws a given image onto the receiver image. The second argument is an option to indicate where to put the image, how colors are changed, which filter is applied, and so on. As <code>nil</code> is given here, the image is rendered at the default position (upper-left corder), without changing any colors.</p>
  </div>
</div>

      </article>
      <footer>
        <p lang="en">Feedback about this page? <a href="https://github.com/ebiten/ebiten.org/issues/new?body=https%3a%2f%2febiten.org%2ftour%2fimage.html%0a%0a">Please reach out on GitHub</a>. Thank you!</p>
        <p lang="ja">このページに何か問題がありましたら、<a href="https://github.com/ebiten/ebiten.org/issues/new?body=https%3a%2f%2febiten.org%2ftour%2fimage.html%0a%0a">GitHub にて報告</a>していただけると幸いです。</p>
      </footer>
    </main>
  </body>
</html>
